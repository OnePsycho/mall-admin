webpackJsonp([46],{"7c0g":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s("woOf"),i=s.n(r),o=s("TZVV"),n=s("Mdfv"),l=[{label:"PC首页轮播",value:0},{label:"APP首页轮播",value:1}],a={name:null,pic:null,status:!0,url:null,note:null},u={name:"HomeAdvertiseDetail",components:{SingleUpload:o.a},props:{isEdit:{type:Boolean,default:!0}},data:function(){return{homeAdvertise:null,rules:{name:[{required:!0,message:"请输入广告名称",trigger:"blur"},{min:2,max:140,message:"长度在 2 到 140 个字符",trigger:"blur"}],url:[{required:!0,message:"请输入广告链接",trigger:"blur"}],pic:[{required:!0,message:"请选择广告图片",trigger:"blur"}]},typeOptions:i()({},l)}},created:function(){this.isEdit?this.homeAdvertise=this.$route.query.data:this.homeAdvertise=i()({},a)},methods:{onSubmit:function(e){var t=this;this.$refs[e].validate(function(s){if(!s)return t.$message({message:"验证失败",type:"error",duration:1e3}),!1;t.$confirm("是否提交数据","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.isEdit?t.$axios.post("http://www.hystkj.com:8080/carousel/update",t.homeAdvertise).then(function(s){t.$refs[e].resetFields(),t.$message({message:"修改成功",type:"success",duration:1e3}),t.$router.back()}):Object(n.d)(t.homeAdvertise).then(function(s){t.$refs[e].resetFields(),t.homeAdvertise=i()({},a),t.$message({message:"提交成功",type:"success",duration:1e3})})})})},resetForm:function(e){this.$refs[e].resetFields(),this.homeAdvertise=i()({},a)}}},m={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-card",{staticClass:"form-container",attrs:{shadow:"never"}},[s("el-form",{ref:"homeAdvertiseFrom",attrs:{model:e.homeAdvertise,rules:e.rules,"label-width":"150px",size:"small"}},[s("el-form-item",{attrs:{label:"广告名称：",prop:"name"}},[s("el-input",{staticClass:"input-width",model:{value:e.homeAdvertise.name,callback:function(t){e.$set(e.homeAdvertise,"name",t)},expression:"homeAdvertise.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"广告图片："}},[s("single-upload",{model:{value:e.homeAdvertise.pic,callback:function(t){e.$set(e.homeAdvertise,"pic",t)},expression:"homeAdvertise.pic"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"广告链接：",prop:"url"}},[s("el-input",{staticClass:"input-width",model:{value:e.homeAdvertise.url,callback:function(t){e.$set(e.homeAdvertise,"url",t)},expression:"homeAdvertise.url"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"广告备注："}},[s("el-input",{staticClass:"input-width",attrs:{type:"textarea",rows:5,placeholder:"请输入内容"},model:{value:e.homeAdvertise.note,callback:function(t){e.$set(e.homeAdvertise,"note",t)},expression:"homeAdvertise.note"}})],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.onSubmit("homeAdvertiseFrom")}}},[e._v("提交")]),e._v(" "),e.isEdit?e._e():s("el-button",{on:{click:function(t){e.resetForm("homeAdvertiseFrom")}}},[e._v("重置")])],1)],1)],1)},staticRenderFns:[]};var d=s("VU/8")(u,m,!1,function(e){s("l23U")},"data-v-18c49eff",null);t.default=d.exports},l23U:function(e,t){}});
//# sourceMappingURL=46.cc00ea936e09fbef67f7.js.map